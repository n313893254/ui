<section>
  {{#unless isEnabled}}
    <div class="banner bg-warning">
      <div class="banner-icon"><span class="icon icon-alert"></span></div>
      <div class="banner-message">
        <p>{{t 'authPage.zoomlion.header.disabled.label'}}</p>
      </div>
    </div>
  {{/unless}}
</section>

 {{#accordion-list showExpandAll=false  as |al expandFn|}}
  {{#if isEnabled}}
    {{#accordion-list-item
         expand=(action expandFn)
         expandAll=al.expandAll
         expandOnInit=true
         expanded=true
         showExpand=false
         title=(t 'authPage.github.authenticated.header.text')
    }}
      <section class="">
        <div class="clearfix">
          <div class="pull-right">
            <button class="btn btn-sm right-divider-btn bg-error" {{action "disable"}}>
              {{t 'authPage.zoomlion.authenticated.disableAccess.disable'}}
            </button>
          </div>
        </div>
        <hr/>
        <div><b>{{t 'authPage.github.authenticated.header.clientId.text'}} </b> <span class="text-muted">{{authConfig.clientId}}</span></div>
      </section>
    {{/accordion-list-item}}

    {{#accordion-list-item
         classNames="mt-30"
         detail=(t 'siteAccess.helpText' appName=settings.appName htmlSafe=true)
         expand=(action expandFn)
         expandAll=al.expandAll
         expandOnInit=true
         expanded=true
         showExpand=false
         title=(t 'siteAccess.header')
    }}
      {{site-access-zoomlion
          model=authConfig
          principals=model.principals
          collection='siteAccess.organizations'
      }}
    {{/accordion-list-item}}
  {{/if}}

   {{#unless isEnabled}}
    {{#accordion-list-item
         expand=(action expandFn)
         expandAll=al.expandAll
         expandOnInit=true
         expanded=true
         showExpand=false
         title=(t 'authPage.zoomlion.notAuthenticated.form.header' appName=settings.appName)
    }}
      <form autcomplete="on">
        <section class="">
          <div class="row">
            <div class="col span-6">
              <div class="inline-form">
                <label class="acc-label pb-5">{{t 'authPage.zoomlion.notAuthenticated.form.clientId.label'}}{{field-required}}</label>
                {{input type="text"
                        name="username"
                        value=authConfig.clientId
                        classNames="form-control"
                        placeholder=(t 'authPage.zoomlion.notAuthenticated.form.clientId.placeholder')
                }}
                <p class="help-block">{{t 'authPage.github.notAuthenticated.form.subtext'}}</p>
              </div>
            </div>
            <div class="col span-6">
              <div class="inline-form">
                <label class="acc-label pb-5">{{t 'authPage.zoomlion.notAuthenticated.form.clientSecret.label'}}{{field-required}}</label>
                {{input type="password"
                        name="password"
                        value=authConfig.clientSecret
                        classNames="form-control"
                        placeholder=(t 'authPage.zoomlion.notAuthenticated.form.clientSecret.placeholder')
                }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col span-6">
              <div class="inline-form">
                <label class="acc-label pb-5">{{t 'authPage.zoomlion.notAuthenticated.form.hostUrl.label'}}{{field-required}}</label>
                {{input type="text"
                        value=authConfig.hostname
                        classNames="form-control"
                        placeholder=(t 'authPage.zoomlion.notAuthenticated.form.hostUrl.placeholder')
                }}
                <div class="checkbox pt-10">
                  <label class="acc-label pb-5">{{input type="checkbox" checked=authConfig.tls}} {{t 'authPage.github.notAuthenticated.form.isGHEnterprise.labelText'}} (<code>https://</code>).</label>
                </div>
              </div>
            </div>
          </div>

           {{top-errors errors=errors}}

           <div class="row mt-20">
            <div class="inline-form">
              <button class="btn bg-primary" style="display: block;margin: 0 auto;" {{action "save"}}>
                {{#if saving}}
                  <i class="icon icon-spinner icon-spin"></i> {{t 'authPage.zoomlion.testAuth.buttonText.post'}}
                {{else if doneSaving}}
                  {{t 'generic.saved'}}
                {{else}}
                  {{t 'authPage.zoomlion.testAuth.buttonText.pre'}}
                {{/if}}
              </button>
            </div>
          </div>
        </section>
      </form>
    {{/accordion-list-item}}
  {{/unless}}
{{/accordion-list}}